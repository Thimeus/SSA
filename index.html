<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kompetenzanalyse Stärken-Schwächen Profil</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Ladeanzeige -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="logo-container">
            <img src="assets/FO%CC%88G%20LOGO.png" alt="FÖG Logo" class="logo">
            <img src="assets/logo_bbb_1.png" alt="BBB Logo" class="logo">
        </div>
        <h1 class="headline">
            Kompetenzanalyse Stärken-Schwächen Profil
        </h1>
    </header>

    <!-- Verbesserte Navigation für Responsive Design -->
    <div class="nav-tabs hidden" id="mainNavigation">
        <div class="nav-tab active" data-tab="schulisch">Schulische Basiskompetenzen</div>
        <div class="nav-tab" data-tab="selbstfremd">Selbst- und Fremdeinschätzung</div>
        <div class="nav-tab" data-tab="berufswahl">Berufswahlkompetenz</div>
        <div class="nav-tab" data-tab="erprobung">Erprobung Berufsbereiche</div>
        <div class="nav-tab" data-tab="selbstberufe">Selbsteinschätzung Berufsbereiche</div>
        <div class="nav-tab" data-tab="ressourcen">Ressourcen & Faktoren</div>
        <div class="nav-tab" data-tab="bericht">Bericht</div>
    </div>

    <div class="container">
        <!-- Fehlermeldungsbereich -->
        <div id="errorDisplay"></div>

        <!-- Upload-Bereich -->
        <div class="upload-area" id="uploadArea">
            <h2>Excel-Datei hochladen</h2>
            <p>Ziehen Sie Ihre Excel-Datei hierher oder klicken Sie, um eine Datei auszuwählen</p>
            <input type="file" id="fileInput" class="hidden" accept=".xlsx, .xls">
            <button class="btn btn-primary" id="selectFileBtn">Datei auswählen</button>

            <div class="structure-help">
                <h3>Hinweis zur Dateistruktur</h3>
                <p>Die Excel-Datei sollte folgende Tabellenblätter enthalten:</p>
                <ol>
                    <li><strong>Teilnehmerliste</strong>: TN-ID, Name, Geburtsdatum, usw.</li>
                    <li><strong>Schulische_Basiskompetenzen</strong>: Bewertungen der schulischen Kompetenzen</li>
                    <li><strong>Selbst_Fremdeinschaetzung</strong>: Methodische und personale Kompetenzen</li>
                    <li><strong>Berufsorientierung</strong>: Bewertungen für verschiedene Berufsbereiche</li>
                    <li><strong>Anmerkungen_Ressourcen</strong>: Qualitative Informationen</li>
                </ol>
            </div>
        </div>

        <!-- Teilnehmerliste -->
        <div class="participant-list hidden" id="participantList">
            <h2>Teilnehmerliste</h2>
            <p>Ziehen Sie einen Teilnehmer in den Analysebereich</p>
            <div id="participantItems"></div>
        </div>

        <!-- Drop-Bereich -->
        <div class="drop-area hidden" id="dropArea">
            <p id="dropText">Teilnehmer hierher ziehen für Analyse</p>
        </div>

        <!-- Analyse-Bereich -->
        <div class="analysis-section hidden" id="analysisSection">
            <div class="participant-info" id="participantInfo">
                <div class="participant-info-item">
                    <span class="participant-info-label">TN-ID:</span>
                    <span id="participantID"></span>
                </div>
                <div class="participant-info-item">
                    <span class="participant-info-label">Name:</span>
                    <span id="participantName"></span>
                </div>
                <div class="participant-info-item">
                    <span class="participant-info-label">Maßnahme:</span>
                    <span id="participantMeasure"></span>
                </div>
                <div class="participant-info-item">
                    <span class="participant-info-label">Geburtsdatum:</span>
                    <span id="participantBirthdate"></span>
                </div>
                <div class="participant-info-item">
                    <span class="participant-info-label">Datum der Erstellung:</span>
                    <span id="assessmentDate"></span>
                </div>
                <div class="participant-info-item">
                    <span class="participant-info-label">Erstellt von:</span>
                    <span id="assessmentAuthor"></span>
                </div>
            </div>

            <div class="tab-container">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="schulisch">Schulische Basiskompetenzen</button>
                    <button class="tab-btn" data-tab="selbstfremd">Selbst- und Fremdeinschätzung</button>
                    <button class="tab-btn" data-tab="berufswahl">Berufswahlkompetenz</button>
                    <button class="tab-btn" data-tab="erprobung">Erprobung Berufsbereiche</button>
                    <button class="tab-btn" data-tab="selbstberufe">Selbsteinschätzung Berufsbereiche</button>
                    <button class="tab-btn" data-tab="ressourcen">Ressourcen & Faktoren</button>
                    <button class="tab-btn" data-tab="bericht">Bericht</button>
                </div>

                <!-- Tab: Schulische Basiskompetenzen -->
                <div class="tab-content active" id="schulischTab">
                    <h3>Schulische Basiskompetenzen</h3>
                    <div class="grid">
                        <div>
                            <table class="data-table" id="schulischTable">
                                <thead>
                                    <tr>
                                        <th>Kompetenzen</th>
                                        <th>Bewertung</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                            <div class="anmerkungen">
                                <h4>Anmerkungen:</h4>
                                <p id="schulischAnmerkungen"></p>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="schulischChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Tab: Selbst- und Fremdeinschätzung -->
                <div class="tab-content" id="selbstfremdTab">
                    <h3>Selbst- und Fremdeinschätzung</h3>
                    <div class="grid">
                        <div>
                            <table class="data-table" id="selbstfremdTable">
                                <thead>
                                    <tr>
                                        <th>Kompetenzen</th>
                                        <th>Selbst</th>
                                        <th>Fremd</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                        <div class="chart-container">
                            <canvas id="selbstfremdChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Tab: Berufswahlkompetenz -->
                <div class="tab-content" id="berufswahlTab">
                    <h3>Berufsorientierung/Berufswahl</h3>
                    <h4>Berufswahlkompetenz</h4>
                    <table class="data-table" id="berufswahlTable">
                        <thead>
                            <tr>
                                <th></th>
                                <th>Handel</th>
                                <th>Lager/Logistik</th>
                                <th>Metall</th>
                                <th>Elektro</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <div class="anmerkungen">
                        <h4>Anmerkungen:</h4>
                        <p id="berufswahlAnmerkungen"></p>
                    </div>
                </div>

                <!-- Tab: Erprobung Berufsbereiche -->
                <div class="tab-content" id="erprobungTab">
                    <h3>Erprobung Berufsbereiche</h3>
                    <div>
                        <table class="data-table" id="erprobungTable">
                            <thead>
                                <tr>
                                    <th>Kompetenzen</th>
                                    <th>Handel</th>
                                    <th>Lager/Logistik</th>
                                    <th>Metall</th>
                                    <th>Elektro</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                    <div class="radar-container">
                        <canvas id="erprobungChart"></canvas>
                    </div>
                </div>

                <!-- Tab: Selbsteinschätzung Berufsbereiche -->
                <div class="tab-content" id="selbstberufeTab">
                    <h3>Selbsteinschätzung Berufsbereiche</h3>
                    <div>
                        <table class="data-table" id="selbstberufeTable">
                            <thead>
                                <tr>
                                    <th>Kompetenzen</th>
                                    <th>Handel</th>
                                    <th>Lager/Logistik</th>
                                    <th>Metall</th>
                                    <th>Elektro</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                    <div class="radar-container">
                        <canvas id="selbstberufeChart"></canvas>
                    </div>
                    <div class="anmerkungen">
                        <h4>Anmerkungen:</h4>
                        <p id="berufsbereicheAnmerkungen"></p>
                    </div>
                </div>

                <!-- Tab: Ressourcen & Faktoren -->
                <div class="tab-content" id="ressourcenTab">
                    <h3>Ressourcen und hinderliche Faktoren</h3>
                    <div class="grid">
                        <div>
                            <h4>Ressourcen des TN:</h4>
                            <p id="ressourcenText"></p>
                        </div>
                        <div>
                            <h4>Hinderliche Faktoren:</h4>
                            <p id="faktorenText"></p>
                        </div>
                    </div>
                </div>

                <!-- Tab: Bericht -->
                <div class="tab-content" id="berichtTab">
                    <h3>Bericht generieren</h3>
                    <p>Erstellen Sie einen vollständigen Bericht für den ausgewählten Teilnehmer.</p>
                    <button class="btn btn-primary" id="printReportBtn">Bericht drucken</button>
                    <button class="btn btn-secondary" id="exportPdfBtn">Als PDF exportieren</button>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>Kompetenzanalyse-Tool für Berufsvorbereitende Bildungsmaßnahmen</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="js/app.js"></script>
</body>
</html>